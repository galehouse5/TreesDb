<?xml version="1.0"?>

<!-- For more information on using web.config transformation visit http://go.microsoft.com/fwlink/?LinkId=125889 -->

<configuration xmlns:xdt="http://schemas.microsoft.com/XML-Document-Transform" xmlns:hib="urn:nhibernate-configuration-2.2">
  <configSections>
    <section name="log4net" xdt:Locator="Match(name)" xdt:Transform="Remove" />
  </configSections>
  
  <connectionStrings>
    <add name="TmdEntities" connectionString="Server=tcp:i84z78rwhw.database.windows.net,1433;Database=Tmd_Preview;User ID=Tmd_Application;Password=HozbIkLGT083TsSoCllU;Trusted_Connection=False;Encrypt=True;"
         xdt:Locator="Match(name)" xdt:Transform="Replace" />
    <add name="TmdStorage" connectionString="DefaultEndpointsProtocol=https;AccountName=tmdb;AccountKey=jgyLIVMmLYkzuKfkPaQGI16iFllp/CLLeXhuIxJFyEoKdrM1kfyi00ZjNDgJbLWKIGrbFiaTUgVmRUZrWTe1nw=="
         xdt:Locator="Match(name)" xdt:Transform="Replace" />
  </connectionStrings>

  <hib:hibernate-configuration>
    <hib:session-factory>
      <hib:property name="show_sql" xdt:Locator="Match(name)" xdt:Transform="Remove">
      </hib:property>
    </hib:session-factory>
  </hib:hibernate-configuration>

  <log4net xdt:Transform="Remove" />

  <appSettings>
    <add key="Hostname" value="tmdb-preview.azurewebsites.net" xdt:Locator="Match(key)" xdt:Transform="Replace" />
  </appSettings>

  <system.web>
    <compilation xdt:Transform="RemoveAttributes(debug)" />

    <customErrors xdt:Transform="SetAttributes" mode="On" />
  </system.web>

  <system.webServer>
    <handlers>
      <add name="Elmah" xdt:Locator="Match(name)" xdt:Transform="Remove" />
    </handlers>

    <httpErrors errorMode="Custom" xdt:Transform="SetAttributes" />

    <staticContent xdt:Transform="Insert">
      <remove fileExtension=".woff"/>
      <mimeMap fileExtension=".woff" mimeType="application/font-woff" />
    </staticContent>
  </system.webServer>

  <system.net>
    <mailSettings>
      <smtp from="webmaster@treesdb.org" xdt:Transform="Replace">
        <network host="smtp.gmail.com" port="587" userName="webmaster@treesdb.org" password="(private)" enableSsl="true" />
      </smtp>
    </mailSettings>
  </system.net>

  <elmah>
    <errorLog type="Tmd.WindowsAzure.TableStorageErrorLog, Tmd.WindowsAzure" applicationName="Tmd" connectionStringName="TmdStorage"
              xdt:Transform="Replace" />
  </elmah>
</configuration>